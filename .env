# =============================================================================
# Auth Service Local Development Configuration
# =============================================================================
# This file is used for VS Code debugging when infrastructure runs in Docker
# Copied to .env automatically by scripts/deploy.sh local

# =============================================================================
# Service Configuration
# =============================================================================
NODE_ENV=local
PORT=3001
SERVICE_NAME=auth-service
SERVICE_VERSION=1.0.0

# =============================================================================
# Database Configuration
# =============================================================================
# Connects to Docker infrastructure - dedicated auth service database
MONGODB_URI=mongodb://admin:admin123@localhost:27021/auth_service_local_db?authSource=admin
MONGODB_CONNECTION_SCHEME=mongodb
MONGODB_HOST=localhost
MONGODB_PORT=27021
MONGODB_USERNAME=admin
MONGODB_PASSWORD=admin123
MONGODB_DB_NAME=auth_service_local_db
MONGODB_DB_PARAMS=authSource=admin

# =============================================================================
# Service Discovery
# =============================================================================
# Infrastructure services - connects to other microservices
USER_SERVICE_URL=http://localhost:3002/api/users
ADMIN_SERVICE_URL=http://localhost:3010/api/admin
AUDIT_SERVICE_URL=http://localhost:9000/api/audit

# =============================================================================
# Message Broker Configuration
# =============================================================================
# Connects to Docker infrastructure
RABBITMQ_URL=amqp://admin:admin123@localhost:5672

# =============================================================================
# Cache Configuration
# =============================================================================
# Connects to Docker infrastructure - uses Redis database 3
REDIS_URL=redis://:redis_dev_pass_123@localhost:6379/3

# =============================================================================
# Security Configuration
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-for-development-only
JWT_EXPIRE=24h
JWT_REFRESH_EXPIRE=7d
BCRYPT_SALT_ROUNDS=12
SESSION_SECRET=your-super-secure-session-secret-for-development-only

# =============================================================================
# Email Configuration
# =============================================================================
# Email service for password reset and notifications (development)
# Using Mailpit: SMTP localhost:1025, Web UI at http://localhost:8025
EMAIL_PROVIDER=smtp
EMAIL_FROM=noreply@aioutlet.local
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=

# =============================================================================
# CORS Configuration
# =============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3010

# =============================================================================
# Development Settings
# =============================================================================
DEBUG=true

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=debug
LOG_FORMAT=console
LOG_TO_CONSOLE=true
LOG_TO_FILE=true
LOG_FILE_PATH=./logs/auth-service-local.log

# =============================================================================
# Observability Configuration  
# =============================================================================
# Tracing
ENABLE_TRACING=true
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces

# Correlation ID
CORRELATION_ID_HEADER=x-correlation-id
